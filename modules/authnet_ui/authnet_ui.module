<?php

/**
 * @file
 * Authorize.net - UI
 */

/* ******************************************************************************
 * Drupal hooks
 * *****************************************************************************/


/* ******************************************************************************
 * Helper functions
 * *****************************************************************************/

/**
 * Generate a list of payment profile options
 *
 * @param $customer_profile
 *   A customer profile object
 *
 * @return
 *   An array of options usable as form radio options
 */
function authnet_ui_payment_profile_options($customer_profile) {
  $options = array();
  foreach ($customer_profile->paymentProfiles as $payment_profile) {
    // At the moment we're only adding credit card payment profiles.
    if (!empty($payment_profile->payment->creditCard->cardNumber)) {

      // Add an option to the array with the last four digits and the street address.
      $options[] = t('Credit card: ' . $payment_profile->payment->creditCard->cardNumber . ' (' . $payment_profile->billTo->address . ')');
    }
  }
}